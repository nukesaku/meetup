# しんめ.rb meetup 第1回(2024/04/08)

## アジェンダ

- しんめ.rbについて
- 直近の開催予定
  - 4月8日（月）21時〜22時半
  - 4月15日（月）21時〜22時半
  - 4月22日（月）21時〜22時半
- 直近の勉強テーマ
  - RailsのModel, ActiveRecordについて
  - [Railsの練習帳](https://zenn.dev/igaiga/books/rails-practice-note/viewer/preface) を読む
  - [Rails ガイド](https://railsguides.jp/active_record_basics.html) を読む
- 自己紹介
- RailsのModel, ActiveRecordに関連する課題の共有
- 学習用ミニアプリの要件整理

### ActiveRecordに関連する課題の共有

- A1_frkweiichi
  - 今後拡張性を持たせておくために意識したデータベース設計
  - リファクタリングを入れるべきタイミング
    - 新機能追加がデットライン？実用したタイミングがデッドライン？

- LEF
  - 通知システム（ベル通知など）の実装があまり自信ないです……
  - Fatモデルを防止するための、PORO（Plain Old Ruby Object）周りの知識が気になっています。
  - DBのインデックス適切な使い所について

- manaka6122
  - N+1問題
   - SQLの意識が足りなかった
  - デバック力つけたい

- DeeeU
  - 例 : コメント機能（DB設計から）
    - 汎用的な機能だがいざ実装しようとするとモデル間の関連の付け方やrouteらへんをどう設計するかをちょ
  - ロジックどこに持たせるかを皆さんに聞いてみたい
    - 表示ロジックはどこまではV側に書いていますか？M,C側には何を持たせますか？
  - Rails７系（Ruby3系）のドキュメントみんなで読んで雰囲気理解したい

- pan
  - デバッグやrspec周りに詳しくなりたい
  - n+1問題をよく聞くけど、地雷踏まないようにしたい
  - index!

- kazumi
  -　has_manyの子モデルのorderの指定方法は何が正解かわからない
  - 複数のモデルに関連するメソッドはどのクラスに書けばいいのか

- shizimi50
  - joins, preload, eager_loadの適切な設定ができていない
    - 関連が多数にわたる場合などパフォーマンスを考慮できてない気が
  - デバッグがうまく活用できている気がしない
    - binding.irb一本でやっている...（vscodeデバック機能活用できてない）

- なおと
  - Fatモデルどうすりゃいいの？
    - app下にworker層作ってロジックは基本可能そっちに書いてる(可能な限りPure Ruby)
    - RuboCopのClass Lengthを厳守するようにやってる
  - モデルとテーブルが1対1なのがアプリ作り始めになんだかなぁ、、、と
  - 特に困ってはいないけどどこまでRSpec書いてます？(バリデーションも書く？)
  - アーカイブの実装どうやってる？

- maimu
  - 複数のモデルをjoinするときにどう書いたらいいかがいつもわからなくなる
    - `[]`や`:`の位置
  - 複数のモデルを一気に更新する処理が難しい
  - 関連づけがわからなくなる
    - has_manyとbelogs_toが逆だったことがある・・・
  - N＋1の理解がいまだに怪しい
  - SQLベースで考えるとActiveRecordならどう書くかがちょっと違っていて混乱する

### 学習用ミニアプリの要件整理

漫画管理アプリを作る
まずはModelだけでやってみる

- 漫画
  - 作品名
  - 発売日
  - 価格
  - 著者
  - 出版社
- 出版社
  - 出版社名
  - 住所
- 著者
  - 名前
  - 誕生日